<KProgressIndicator>:
    canvas.before:
        PushMatrix
        Rotate:
            angle: self.angle
            axis: 0, 0, 1
            origin: self.center
    canvas:
        Color:
            rgba: 1, 1, 1, 0.85
        Line:
            width: 1.5
            circle: self.center_x, self.center_y, min(self.width, self.height) / 3, 0, 90
        Line:
            width: 1.5
            circle: self.center_x, self.center_y, min(self.width, self.height) / 3, 180, 270
    canvas.after:
        PopMatrix

<KBasePopup>:
    auto_dismiss: False
    padding: 8
    pos_hint: {"x": 0, "y": 0.5}
    size_hint: 1, 0.5

    # default background is the same as button's one and looks ugly
    canvas:
        Color:
            rgba: 0, 0, 0, 1
        Rectangle:
            pos: self.pos
            size: self.size

<KLoadingPopup>:
    BoxLayout:
        orientation: "vertical"

        Label:
            text: root.text
        KProgressIndicator:

<KStatusPopup>:
    BoxLayout:
        orientation: "vertical"

        Label:
            text: root.text
        KButton:
            on_press: root.dismiss()
            text: "OK"
